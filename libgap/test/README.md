# C++ LibGAP

<h2>C++ LibGAP Tests</h2>

- [Project Euler Problem 1](#project-euler-problem-1)
- [Project Euler Problem 2](#project-euler-problem-2)
- [Project Euler Problem 6](#project-euler-problem-6)
- [Rational Number Series for Pi](#rational-number-series-for-pi)
  


<h3>Project Euler Problem 1</h3>

Multiples of 3 and 5 (see https://projecteuler.net/problem=1):
>  If we list all the natural numbers below 10 that are multiples of 3 or 5,
>  we get 3, 5, 6 and 9. The sum of these multiples is 23.
>
>  Find the sum of all the multiples of 3 or 5 below 1000.


`PE-001-cint.cpp` is using C-`ints`, included as a base reference to compare
`GAP::Int`s performance against.

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
sol 1  |     0.0004 |         10 |                   23
sol 2  |     0.0002 |         10 |                   23
sol 1  |     0.0004 |        100 |                 2318
sol 2  |     0.0002 |        100 |                 2318
sol 1  |     0.0012 |       1000 |               233168
sol 2  |     0.0002 |       1000 |               233168
sol 1  |     0.0095 |      10000 |             23331668
sol 2  |     0.0001 |      10000 |             23331668
sol 1  |     0.1005 |     100000 |           2333316668
sol 2  |     0.0003 |     100000 |           2333316668
sol 1  |     0.6177 |    1000000 |         233333166668
sol 2  |     0.0001 |    1000000 |         233333166668
sol 1  |     4.1680 |   10000000 |       23333331666668
sol 2  |     0.0001 |   10000000 |       23333331666668
sol 1  |    40.6482 |  100000000 |     2333333316666668
sol 2  |     0.0001 |  100000000 |     2333333316666668
sol 1  |    404.913 | 1000000000 |   233333333166666668
sol 2  |     0.0001 | 1000000000 |   233333333166666668

`PE-001-gap.cpp` is using `Gap::Ints`.

Timing for the version with non-inlined immediate int operations:

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
sol 1  |     0.0009 |         10 |                   23
sol 2  |     0.0013 |         10 |                   23
sol 1  |     0.0007 |        100 |                 2318
sol 2  |     0.0003 |        100 |                 2318
sol 1  |     0.0041 |       1000 |               233168
sol 2  |     0.0003 |       1000 |               233168
sol 1  |     0.0431 |      10000 |             23331668
sol 2  |     0.0002 |      10000 |             23331668
sol 1  |     0.4051 |     100000 |           2333316668
sol 2  |     0.0002 |     100000 |           2333316668
sol 1  |     4.2298 |    1000000 |         233333166668
sol 2  |     0.0003 |    1000000 |         233333166668
sol 1  |    45.1979 |   10000000 |       23333331666668
sol 2  |     0.0004 |   10000000 |       23333331666668
sol 1  |   424.3450 |  100000000 |     2333333316666668
sol 2  |     0.0004 |  100000000 |     2333333316666668
sol 1  |    4281.72 | 1000000000 |   233333333166666668
sol 2  |     0.0004 | 1000000000 |   233333333166666668

Timing for the version with inlined immediate int operations
(compare to above):

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
sol 1  |     0.0003 |         10 |                   23
sol 2  |     0.0003 |         10 |                   23
sol 1  |     0.0005 |        100 |                 2318
sol 2  |     0.0009 |        100 |                 2318
sol 1  |     0.0057 |       1000 |               233168
sol 2  |     0.0002 |       1000 |               233168
sol 1  |      0.043 |      10000 |             23331668
sol 2  |     0.0002 |      10000 |             23331668
sol 1  |     0.3459 |     100000 |           2333316668
sol 2  |     0.0002 |     100000 |           2333316668
sol 1  |     3.5609 |    1000000 |         233333166668
sol 2  |     0.0004 |    1000000 |         233333166668
sol 1  |    35.1427 |   10000000 |       23333331666668
sol 2  |     0.0003 |   10000000 |       23333331666668
sol 1  |    349.758 |  100000000 |     2333333316666668
sol 2  |     0.0004 |  100000000 |     2333333316666668
sol 1  |    3500.09 | 1000000000 |   233333333166666668
sol 2  |     0.0004 | 1000000000 |   233333333166666668


`PE-001-mixed.cpp` is using C-`ints` up to `1000000000` and then switching to
Gap::Ints` up to `1000000000000000000` - also an example on how to get best
performance by using C-`ints` where possible, and then switching to arbitrary
precision `Gap::Ints` for the rest of the computation:

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
sol 2  |     0.0002 |                  10 |                                     23
sol 2  |     0.0001 |                 100 |                                   2318
sol 2  |     0.0001 |                1000 |                                 233168
sol 2  |     0.0002 |               10000 |                               23331668
sol 2  |     0.0001 |              100000 |                             2333316668
sol 2  |     0.0001 |             1000000 |                           233333166668
sol 2  |     0.0001 |            10000000 |                         23333331666668
sol 2  |     0.0001 |           100000000 |                       2333333316666668
sol 2  |     0.0001 |          1000000000 |                     233333333166666668
sol 2  |     0.0032 |         10000000000 |                   23333333331666666668
sol 2  |     0.0013 |        100000000000 |                 2333333333316666666668
sol 2  |     0.0009 |       1000000000000 |               233333333333166666666668
sol 2  |     0.0011 |      10000000000000 |             23333333333331666666666668
sol 2  |     0.0009 |     100000000000000 |           2333333333333316666666666668
sol 2  |     0.0008 |    1000000000000000 |         233333333333333166666666666668
sol 2  |     0.0008 |   10000000000000000 |       23333333333333331666666666666668
sol 2  |     0.0005 |  100000000000000000 |     2333333333333333316666666666666668
sol 2  |     0.0008 | 1000000000000000000 |   233333333333333333166666666666666668


<h3>Project Euler Problem 2</h3>

Even Fibonacci numbers (see https://projecteuler.net/problem=2)
> Each new term in the Fibonacci sequence is generated by adding the previous
> two terms. By starting with 1 and 2, the first 10 terms will be:
>
>     1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...
>
>  By considering the terms in the Fibonacci sequence whose values do not
>  exceed four million, find the sum of the even-valued terms.

Timing for `PE-002.cpp`:

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
C::Int |||
sol 1  |     0.0003 |                                4 |                                2
sol 1  |          0 |                               40 |                               44
sol 1  |     0.0001 |                              400 |                              188
sol 1  |          0 |                             4000 |                             3382
sol 1  |     0.0002 |                            40000 |                            14328
sol 1  |     0.0001 |                           400000 |                           257114
sol 1  |     0.0001 |                          4000000 |                          4613732
sol 1  |     0.0001 |                         40000000 |                         19544084
sol 1  |     0.0002 |                        400000000 |                        350704366
sol 1  |          0 |                       4000000000 |                       1485607536
sol 1  |     0.0001 |                      40000000000 |                      26658145586
sol 1  |     0.0002 |                     400000000000 |                     478361013020
sol 1  |     0.0001 |                    4000000000000 |                    2026369768940
sol 1  |     0.0002 |                   40000000000000 |                   36361730124070
sol 1  |     0.0001 |                  400000000000000 |                  154030760585064
sol 1  |     0.0001 |                 4000000000000000 |                 2763969850442378
sol 1  |     0.0001 |                40000000000000000 |                49597426547377748
sol 1  |     0.0002 |               400000000000000000 |               210098070363744836
Gap::Int |||
sol 1  |     0.0003 |                                4 |                                2
sol 1  |     0.0004 |                               40 |                               44
sol 1  |     0.0004 |                              400 |                              188
sol 1  |     0.0005 |                             4000 |                             3382
sol 1  |     0.0010 |                            40000 |                            14328
sol 1  |     0.0010 |                           400000 |                           257114
sol 1  |     0.0014 |                          4000000 |                          4613732
sol 1  |     0.0012 |                         40000000 |                         19544084
sol 1  |     0.0012 |                        400000000 |                        350704366
sol 1  |     0.0018 |                       4000000000 |                       1485607536
sol 1  |     0.0014 |                      40000000000 |                      26658145586
sol 1  |     0.0014 |                     400000000000 |                     478361013020
sol 1  |     0.0015 |                    4000000000000 |                    2026369768940
sol 1  |     0.0018 |                   40000000000000 |                   36361730124070
sol 1  |     0.0019 |                  400000000000000 |                  154030760585064
sol 1  |     0.0026 |                 4000000000000000 |                 2763969850442378
sol 1  |     0.0020 |                40000000000000000 |                49597426547377748
sol 1  |     0.0025 |               400000000000000000 |               210098070363744836
sol 1  |     0.0041 |              4000000000000000000 |              3770056902373173214
sol 1  |     0.0045 |             40000000000000000000 |             15970217317495049952
sol 1  |     0.0047 |            400000000000000000000 |            286573922006908542050
sol 1  |     0.0046 |           4000000000000000000000 |           5142360378806858706956
sol 1  |     0.0067 |          40000000000000000000000 |          21783388129427422369052
sol 1  |     0.0067 |         400000000000000000000000 |         390887039715493615101718
sol 1  |     0.0079 |        4000000000000000000000000 |        1655824071758491008590040
sol 1  |     0.0078 |       40000000000000000000000000 |       29712557378756321606437562
sol 1  |     0.0099 |      400000000000000000000000000 |      125864412841774744075212130
sol 1  |     0.0088 |     4000000000000000000000000000 |     2258545247825195935704356468
sol 1  |     0.0098 |    40000000000000000000000000000 |    40527950048011752098603204302
sol 1  |     0.0119 |   400000000000000000000000000000 |   171679151392093647435137529168
sol 1  |     0.0108 |  4000000000000000000000000000000 |  3080657373857639014791750813074


<h3>Project Euler Problem 6</h3>

Sum square difference (see https://projecteuler.net/problem=6):
>The sum of the squares of the first ten natural numbers is
>
>     1^2 + 2^2 + ... + 10^2 = 385
>
>  The square of the sum of the first ten natural numbers is,
>
>     (1 + 2 + ... + 10)^2 = 552 = 3025
>
>  Hence the difference between the sum of the squares of the first ten natural numbers
>  and the square of the sum is 3025 − 385 = 2640.
>
>  Find the difference between the sum of the squares of the first one hundred natural numbers
>  and the square of the sum.

Timing for `PE-006.cpp`:

Solution | Time (ms) | Max  | Sum
------ | ---------- | ------------------- | -------------
C::Int |||
sol 1  |     0.0003 |          10 |                              2640
sol 2  |     0.0001 |          10 |                              2640
sol 1  |     0.0002 |         100 |                          25164150
sol 2  |     0.0001 |         100 |                          25164150
sol 1  |     0.0007 |        1000 |                      250166416500
sol 2  |     0.0001 |        1000 |                      250166416500
sol 1  |     0.0052 |       10000 |                  2500166641665000
sol 2  |     0.0001 |       10000 |                  2500166641665000
Gap::Int |||
sol 1  |     0.0001 |          10 |                              2640
sol 2  |      0.001 |          10 |                              2640
sol 1  |     0.0012 |         100 |                          25164150
sol 2  |     0.0003 |         100 |                          25164150
sol 1  |     0.0136 |        1000 |                      250166416500
sol 2  |     0.0001 |        1000 |                      250166416500
sol 1  |     0.1114 |       10000 |                  2500166641665000
sol 2  |     0.0001 |       10000 |                  2500166641665000
sol 1  |     0.7649 |      100000 |              25000166664166650000
sol 2  |     0.0008 |      100000 |              25000166664166650000
sol 1  |     7.9372 |     1000000 |          250000166666416666500000
sol 2  |     0.0003 |     1000000 |          250000166666416666500000
sol 1  |    494.947 |    10000000 |      2500000166666641666665000000
sol 2  |     0.0005 |    10000000 |      2500000166666641666665000000
sol 1  |    5599.17 |   100000000 |  25000000166666664166666650000000
sol 2  |     0.0006 |   100000000 |  25000000166666664166666650000000


<h3>Rational Number Series for Pi</h3>

Computes Pi using the
Madhava / Gregory–Leibniz series (https://en.wikipedia.org/wiki/Leibniz_formula_for_%CF%80)
and the
Borwein, Bailey, Plouffe series (https://en.wikipedia.org/wiki/Bailey%E2%80%93Borwein%E2%80%93Plouffe_formula)

The first 36,768 digits of Pi are in the file `pi-32768.txt` in this folder. Uncomment
the last two lines of `main`

        int prec = 32768;
        cout << Pi::prDec(Pi::seriesBBP(prec), prec);

if you want the program to print out Pi.

Timing for `rational-pi.cpp`:

Solution | Time (ms) | Iterations  | Pi Approximation
------ | ---------- | ------------------- | -------------
Pi-RRS |          0.019 |       2 |   2.666666666666666666666666666666666666666666666666
Pi-BBP |          0.004 |       2 |   3.141422466422466422466422466422466422466422466422
Pi-RRS |          0.004 |       4 |   2.895238095238095238095238095238095238095238095238
Pi-BBP |          0.013 |       4 |   3.141592457567435381837004555057293394007389950594
Pi-RRS |          0.005 |       8 |   3.017071817071817071817071817071817071817071817071
Pi-BBP |          0.037 |       8 |   3.141592653588972704940777767170189446971120489811
Pi-RRS |          0.005 |      16 |   3.079153394197426161270465024909584313693304838399
Pi-BBP |          0.027 |      16 |   3.141592653589793238462593174670682882792683045699
Pi-RRS |          0.012 |      32 |   3.110350273698685916626732076014461441109657633511
Pi-BBP |          0.085 |      32 |   3.141592653589793238462643383279502884197168700950
Pi-RRS |          0.029 |      64 |   3.125968606973287756022177762005987678495464477557
Pi-BBP |          0.164 |      64 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |          0.068 |     128 |   3.133780272789989534730032556387154349140750107858
Pi-BBP |          0.572 |     128 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |          0.324 |     256 |   3.137686418490670228442116611763565557258175348546
Pi-BBP |          1.538 |     256 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |          0.542 |     512 |   3.139639530452429506012739195331859649514006187523
Pi-BBP |          6.559 |     512 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |          2.017 |    1024 |   3.140616091322623604561564179804218125666807949455
Pi-BBP |         26.064 |    1024 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |            5.6 |    2048 |   3.141104372368897060245766014252383676018468885638
Pi-BBP |        143.096 |    2048 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |         17.338 |    4096 |   3.141348512968431216998684602385177844348568263125
Pi-BBP |        687.993 |    4096 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |         47.119 |    8192 |   3.141470583277747985805059518310881489524400842318
Pi-BBP |        3839.25 |    8192 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |        158.764 |   16384 |   3.141531618433600081881239493501363137420175827172
Pi-BBP |        21213.5 |   16384 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |        600.677 |   32768 |   3.141562136011675343889992712475259561508293779720
Pi-BBP |         112820 |   32768 |   3.141592653589793238462643383279502884197169399375
Pi-RRS |        2336.64 |   65536 |   3.141577394800731626641062824910793983846553056524
Pi-RRS |        9268.26 |  131072 |   3.141585024195262099484945837717221258531278428570
Pi-RRS |        37328.9 |  262144 |   3.141588838892527627340431190841524149833045403308
Pi-RRS |         147467 |  524288 |   3.141590746241160427697366859248421369556971293420
